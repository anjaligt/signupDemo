<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">

    <!-- CSS -->
    <link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootswatch/3.1.1/darkly/bootstrap.min.css">
    <link rel="stylesheet" href="http://localhost/codeigniter3-rest-api/assets/css/style.css">

    <!-- JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    
    <!-- load angular, nganimate, and ui-router -->
    <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.2.16/angular.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/angular-ui-router/0.2.10/angular-ui-router.min.js"></script>
    <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.2.16/angular-animate.min.js"></script>

    <script src="http://cdnjs.cloudflare.com/ajax/libs/angular-ui/0.4.0/angular-ui.min.js"></script>
    <script src ="https://cdnjs.cloudflare.com/ajax/libs/angular-ui-bootstrap/2.5.0/ui-bootstrap.min.js"></script>
    <script src="https://rawgithub.com/cletourneau/angular-bootstrap-datepicker/master/dist/angular-bootstrap-datepicker.js" charset="utf-8"></script>
    <script src="http://localhost/codeigniter3-rest-api/assets/app/app.js"></script>

</head>
<body>
<main ng-app="formApp" ng-controller="formCtrl" ng-cloak>
  <div class="container">
    <div class="row">
      <div class="col-md-12">&nbsp;</div>
    </div>
    <div class="row">
      <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
        <h2>User Registration</h1>
      </div>
    </div>
    <form name="multiStepForm" class="form-validation" role="form" novalidate>
      <div class="animate-switch-container" ng-switch on="stage" ng-class="{forward: direction, backward:!direction}">
        <div class="animate-switch" ng-switch-default>
          <div class="row">
            <div class="col-md-12">
              <p>Welcome to the form.</p>
              <button type="button" class="btn btn-primary" ng-click="next('stage1')">Start</button>
            </div>
          </div>
        </div>
        <div class="animate-switch" ng-switch-when="stage1">
          <div class="row">
            <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6">
              <div class="form-group">
                <label for="tb-fname">Name:</label>
                <input type="text" class="form-control" id="tb-fname" name="firstName" ng-maxlength="250" ng-model="formParams.firstName" required ng-class="{'input-error': formValidation && multiStepForm.firstName.$error.required}" >
                <span ng-show="multiStepForm.firstName.$error.maxlength">
                  Max character length reached.
                </span>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6">
              <div class="form-group">
                <label for="tb-email">Email:</label>
                <input type="email" class="form-control" id="tb-email" name="email" ng-maxlength="100" ng-model="formParams.email" ng-class="{'input-error': formValidation && multiStepForm.email.$error.required}" ng-model-options="{ updateOn: 'blur' }" required>
                <span ng-show="multiStepForm.email.$error.email">
                  Incorrect email format.
                </span>
                <span ng-show="multiStepForm.email.$error.maxlength">
                  Max character length reached.
                </span>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6">
              <div class="form-group">
                <label for="tb-fname">Password:</label>
                <input type="text" class="form-control" id="password" name="password" ng-maxlength="10" ng-model="formParams.password" required ng-class="{'input-error': formValidation && multiStepForm.password.$error.required}" >
                <span ng-show="multiStepForm.password.$error.maxlength">
                  Max character length reached.
                </span>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6">
              <div class="form-group">
                <label for="tb-fname">Confirm Password:</label>
                <input type="text" class="form-control" id="confirmPassword" name="confirmPassword" ng-maxlength="10" ng-model="formParams.confirmPassword" required ng-class="{'input-error': formValidation && multiStepForm.confirmPassword.$error.required}" pw-check='password'>
                <div ng-show="multiStepForm.confirmPassword.$error">
                   <span class='msg-error' ng-show='multiStepForm.confirmPassword.$error.pwmatch'>
                      Passwords don't match.
                   </span>
                </div>
              </div>
            </div>
          </div>
          
          <button type="button" class="btn btn-info" ng-click="back('')">Back</button>
          <button type="button" class="btn btn-primary" ng-click="next('stage2')">Next</button>
        </div>
        <div class="animate-switch" ng-switch-when="stage2">
          <div class="form-group">
            Gender: 
            <input type="radio" name="gender" ng-model="formParams.gender" value="female" ng-required="!formParams.gender"/>Female 
            <input type="radio" name="gender" ng-model="formParams.gender" value="male" ng-required="!formParams.gender"/>Male <br/><br/>
            <span ng-show="multiStepForm.gender.$error.required">
                  Pls select gender
            </span>
          </div>
          <div class="form-group">
            Date of Birth: <!-- <input id="datepicker" type="text" data-ng-datepicker data-ng-options="datepickerOptions" data-ng-model="date"> -->
            <input type="text" name="date" ng-model="date" jqdatepicker />{{date}}
          </div>
          <div class="form-group">
            <label for="ta-body">Address:</label>
            <textarea class="form-control" rows="5" id="ta-body" ng-model="formParams.Address"></textarea>
          </div>
          <button type="button" class="btn btn-info" ng-click="back('stage1')">Back</button>
          <button type="button" class="btn btn-primary" ng-click="next('stage3')">Next</button>
        </div>
        <div class="animate-switch" ng-switch-when="stage3">
          <h3>Summary</h3>
          <p>First name: {{formParams.firstName}}</p>
          <p>Last name: {{formParams.lastName}}</p>
          <p>Email: {{formParams.email}}</p>
          <p>Message Body: {{formParams.Address}}</p>
          <button type="button" class="btn btn-info" ng-click="back('stage2')">Back</button>
          <button type="button" class="btn btn-warning" ng-click="submitForm()">Submit</button>
        </div>
        <div class="animate-switch" ng-switch-when="success">
          <div class="success-wrap">
            <h2 class="confirmation-text">Thank you</h2>
            <p>Your message has been sent.<br>You should receive a confirmation email.</p>
            <div><button type="button" class="btn btn-success" ng-click="reset()" >Send Another</button></div>
          </div>
        </div>
        <div class="animate-switch" ng-switch-when="error" >
          <div class="error-wrap">
            <h2 class="confirmation-text">Error</h2>
            <p>There was an error when attempting to submit your request.<br>Please try again later.</p>
            <p><strong>*This will always error until a web service URL is set.*</strong></p>
            <div><button type="button" class="btn btn-danger" ng-click="reset()" >Try again</button></div>
          </div>
        </div>
      </div>
    </form>
  </div>
</main>
</body>